<div class="container">
    <h2>Выберите категории:</h2>
    <div style="text-align: left; display: inline-block;">
        <label><input type="checkbox" class="category" data-name="Текущий ремонт (привод)"> Текущий ремонт (привод)</label><br>
        <label><input type="checkbox" class="category" data-name="Техническое обслуживание"> Техническое обслуживание</label><br>
        <label><input type="checkbox" class="category" data-name="Внешний осмотр"> Внешний осмотр</label><br>
        <label><input type="checkbox" class="category" data-name="Пополнение смазкой подшипникового узла (лицо)"> Пополнение смазкой подшипникового узла (лицо)</label>
        <label><input type="checkbox" class="category" data-name="Пополнение смазкой подшипникового узла (привод)"> Пополнение смазкой подшипникового узла (привод)</label><br>
        <label><input type="checkbox" class="category" data-name="Проверка состояния металлических конструкций"> Проверка состояния металлических конструкций</label><br>
        <label><input type="checkbox" class="category" data-name="Проверка момента затяжки крепежа"> Проверка момента затяжки крепежа</label><br>
        <label><input type="checkbox" class="category" data-name="Демонтаж крышки корпуса подшипникового узла (привод)"> Демонтаж крышки корпуса подшипникового узла (привод)</label><br>
        <label><input type="checkbox" class="category" data-name="Удаление смазки (привод)"> Удаление смазки (привод)</label><br>
        <label><input type="checkbox" class="category" data-name="Демонтаж концевого подшипника (лицо)"> Демонтаж концевого подшипника (лицо)</label><br>
        <label><input type="checkbox" class="category" data-name="Демонтаж закрепительной гайки (привод)"> Демонтаж закрепительной гайки (привод)</label><br>
        <label><input type="checkbox" class="category" data-name="Дефектовка монтажа подшипника (привод)"> Дефектовка монтажа подшипника (привод)</label><br>
        <label><input type="checkbox" class="category" data-name="Дефектовка концевого подшипника (лицо)"> Дефектовка концевого подшипника (лицо)</label><br>
        <label><input type="checkbox" class="category" data-name="Дефектовка подшипника (привод)"> Дефектовка подшипника (привод)</label><br>
        <label><input type="checkbox" class="category" data-name="Монтаж закрепительной гайки (привод)"> Монтаж закрепительной гайки (привод)</label><br>
        <label><input type="checkbox" class="category" data-name="Монтаж хвостового подшипника (лицо)"> Монтаж хвостового подшипника (лицо)</label><br>
        <label><input type="checkbox" class="category" data-name="Заполнение подшипника смазкой (привод)"> Заполнение подшипника смазкой (привод)</label><br>
        <label><input type="checkbox" class="category" data-name="Монтаж крышки корпуса подшипникового узла (привод)"> Монтаж крышки корпуса подшипникового узла (привод)</label><br>

    </div>
    <br>
    <button id="main-btn" onclick="sendCategories()">Сохранить выбор</button>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    function sendCategories() {
        const checkboxes = document.querySelectorAll('.category');
        const results = {};

        checkboxes.forEach(cb => {
            // Записываем true (если галочка есть) или false (если нет)
            results[cb.getAttribute('data-name')] = cb.checked;
        });

        // Превращаем объект в строку JSON и отправляем боту
        tg.sendData(JSON.stringify(results));
    }
</script>


